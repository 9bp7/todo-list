!function(e){var t={};function o(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(l,n,function(t){return e[t]}.bind(null,n));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);const l=(e,t,o,l,n,a)=>{let r=!1;return{setComplete:e=>r=e,getComplete:()=>r,setTitle:t=>e=t,setDescription:e=>t=e,setDueDate:e=>o=e,setPriority:e=>l=e,setNotes:e=>n=e,setChecklist:e=>a=e,getTitle:()=>e,getDescription:()=>t,getDueDate:()=>o,getPriority:()=>l,getNotes:()=>n,getChecklist:()=>a}},n=(e,t=!1)=>{let o=[];return{addTask:e=>o.push(e),getTask:e=>o[e],getTasks:()=>o,getTitle:()=>e,isFavourite:()=>t}},a=(()=>{let e=[];return{addProject:t=>e.push(t),deleteProject:t=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},getAllProjects:()=>e,getProject:t=>e[t],getProjectCount:()=>e.length,getProjectIndex:t=>e.indexOf(t)}})(),r=(()=>{let e=[];return{addModal:t=>(e.push(t),e.indexOf(t)),getModalIndex:t=>e.indexOf(t),hideAllOtherModals:t=>{for(let o=0;o<t.length;o++)o!==t?(e[o].hide(),console.log("hiding modalID: "+o)):console.log("keeping modalID: "+o)}}})(),d=e=>{let t=document.createElement("div");t.classList.add("modal"),t.dataset.modalid=r.addModal(t);const o=r.getModalIndex(t);let l=document.createElement("div");l.classList.add("modal-container"),l.dataset.modalid=o,document.querySelector("body").appendChild(l),document.querySelector(".modal-container").appendChild(t),e.length>0&&(t.innerHTML+=`<h3>${e}</h3>`);const n=()=>{l.removeChild(t),l.classList.remove("show"),t.classList.remove("show")};t.innerHTML+='<h3 id="modal-close">✕</h3>',l.addEventListener("click",e=>{(e.target.classList.contains("modal-container")||"modal-close"===e.target.id)&&n()});return{modal:t,show:()=>{l.appendChild(t),l.classList.add("show"),t.classList.add("show")},hide:n}},c=(()=>{document.querySelectorAll("button");let e=document.querySelector("aside"),t=document.querySelector(".sidebar-favourites"),o=document.querySelector(".sidebar-projects"),l=document.querySelector(".display-inner"),r=[],i=!1,s={type:"",projects:[]};const u=(e,t)=>{s.type=e,s.projects=t},p=()=>{l.innerHTML=""},m=e=>{let t=a.getProject(e);t.isFavourite()?l.innerHTML+=`<h3>${t.getTitle()}<button class="add-btn small-btn" data-btn="new-task" data-projectid=${e}>＋ Add Task</button></h3>`:l.innerHTML+=`<h3>${t.getTitle()}<button class="add-btn small-btn" data-btn="new-task" data-projectid=${e}>＋ Add Task</button><button class="add-btn delete-project-btn small-btn" data-btn="del-project" data-projectid=${e}>Delete Project</button></h3>`;let o=document.createElement("ul"),n=t.getTasks();n.sort((function(e,t){return e.getComplete()===t.getComplete()?0:e.getComplete()?1:-1}));for(let t=0;t<n.length;t++){let l=document.createElement("li");l.dataset.projectindex=t,l.dataset.projectid=e,n[t].getComplete()&&l.classList.add("todo-complete"),l.innerHTML+=`<input class="todo-tick" type="checkbox" ${n[t].getComplete()?"checked":""}><span class="todo-pri-${n[t].getPriority()}">${n[t].getTitle()}</span>`,n[t].getComplete()||(""!==n[t].getDescription()&&(l.innerHTML+=`<p class="todo-desc">${n[t].getDescription()}</p>`),""!==n[t].getDueDate()&&null!==n[t].getDueDate()&&(l.innerHTML+=`<p class="todo-desc">Due on ${n[t].getDueDate()}</p>`)),o.appendChild(l)}l.appendChild(o),f()},g=e=>{p(),u("one",[a.getProject(e)]),m(e),h(),y()},b=()=>{p(),u("all",a.getAllProjects());for(let e=0;e<a.getProjectCount();e++)m(e);h(),y()},h=()=>{l.querySelectorAll("li").forEach(e=>{e.childNodes.forEach(t=>{"INPUT"===t.tagName&&"checkbox"===t.type&&(-1===r.indexOf(t)?(r.push(t),t.addEventListener("CheckboxStateChange",()=>{console.log("toggling completion task id "+e.dataset.projectindex),a.getProject(e.dataset.projectid).getTask(e.dataset.projectindex).setComplete(t.checked),"all"===s.type?b():"one"===s.type&&g(a.getProjectIndex(s.projects[0]))})):console.log("event exists for "+e.textContent))})})},j=(document.querySelectorAll('button[data-btn="new-project"]').forEach(e=>{e.addEventListener("click",()=>{i=!i,f(!1),i&&(document.querySelector(".add-project-field").focus(),j())})}),()=>{let e=document.querySelector(".add-project-form"),t=document.querySelector(".add-project-field");e.addEventListener("submit",e=>{if(e.preventDefault(),""!==t.value){let e=n(t.value);a.addProject(e),i=!1,c.displayOneProject(a.getProjectIndex(e)),f()}})}),f=(l=!0)=>{t.innerHTML="",o.innerHTML="",(()=>{let e=a.getAllProjects(),l=document.querySelectorAll('button[data-btn="new-project"]');i?(l.forEach(e=>e.innerHTML="<span class='btn-symbol'>✕</span> Cancel"),o.innerHTML+='<div class="add-project"><form class="add-project-form"><input type="text" class="add-project-field" placeholder="Name your project"><input type="submit" class="add-project-submit" value="＋"></form></div>'):l.forEach(e=>e.innerHTML="<span class='btn-symbol'>＋</span> New Project");let n=0;e.forEach(e=>{e.isFavourite()?t.innerHTML+=`<li class="project-link" data-id=${n}>${e.getTitle()}</li>`:o.innerHTML+=`<li class="project-link" data-id=${n}>${e.getTitle()}</li>`,n++}),t.innerHTML+='<li class="project-link" data-id="all-tasks">All Tasks</li>'})(),(()=>{if("all"===s.type){t.querySelector('li[data-id="all-tasks"]').classList.add("selected")}else if("one"===s.type){let t=a.getProjectIndex(s.projects[0]);e.querySelector(`li[data-id="${t}"]`).classList.add("selected")}})(),e.querySelectorAll("li").forEach(e=>{e.addEventListener("click",()=>{"all-tasks"===e.dataset.id?c.displayAllProjects():c.displayOneProject(+e.dataset.id)})})},y=()=>{l.querySelectorAll('button[data-btn="del-project"]').forEach(e=>{e.addEventListener("click",()=>{let t=a.getProject(+e.dataset.projectid);((e,t,o,l,n,a,r=!1)=>{const c=d(e);t.length>0&&(c.modal.innerHTML+=`<p>${t}</p>`),r?(c.modal.innerHTML+=`<button data-modalbtn="confirm" class="modal-btn modal-confirm-btn-warn">${n}</button>`,c.modal.innerHTML+=`<button data-modalbtn="cancel" class="modal-btn modal-cancel-btn-warn">${a}</button>`):(c.modal.innerHTML+=`<button data-modalbtn="confirm" class="modal-btn modal-confirm-btn">${n}</button>`,c.modal.innerHTML+=`<button data-modalbtn="cancel" class="modal-btn modal-cancel-btn">${a}</button>`);(()=>{let e=c.modal.querySelector('button[data-modalbtn="confirm"]'),t=c.modal.querySelector('button[data-modalbtn="cancel"]');e.addEventListener("click",()=>{o(),c.hide()}),t.addEventListener("click",()=>{null!==l&&l(),c.hide()})})();return Object.assign({},c,{})})("Delete Project",`Do you really wish to delete ${t.getTitle()}?`,()=>(e=>{a.deleteProject(e),b(),f()})(t),null,"Delete Project","Cancel",!0).show()})})};return{displayOneProject:g,displayAllProjects:b}})();let i=n("Inbox",!0);a.addProject(i);let s=l("This is complete first","More info about this amazing thing","2020-09-19","high",null,null);s.setComplete("true"),i.addTask(s);let u=l("Do something amazing","More info about this amazing thing","2020-09-19","low",null,null);i.addTask(u);let p=l("This is complete","More info about this amazing thing","2020-09-19","high",null,null);p.setComplete("true"),i.addTask(p);let m=l("Do another great thing","More info about this amazing thing","2020-09-19","med",null,null);i.addTask(m);let g=l("Do another great thing","More info about this amazing thing","2020-09-19","med",null,null);i.addTask(g),i=n("Personal"),a.addProject(i),i=n("Work"),a.addProject(i),c.displayAllProjects()}]);