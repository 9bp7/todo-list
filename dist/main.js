!function(e){var t={};function o(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(l,r,function(t){return e[t]}.bind(null,r));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);const l=(e,t,o,l,r,n)=>{let a=!1;return{setComplete:e=>a=e,getComplete:()=>a,setTitle:t=>e=t,setDescription:e=>t=e,setDueDate:e=>o=e,setPriority:e=>l=e,setNotes:e=>r=e,setChecklist:e=>n=e,getTitle:()=>e,getDescription:()=>t,getDueDate:()=>o,getPriority:()=>l,getNotes:()=>r,getChecklist:()=>n}},r=(e,t=!1)=>{let o=[];return{addTask:e=>o.push(e),getTask:e=>o[e],getTasks:()=>o,getTitle:()=>e,isFavourite:()=>t}},n=(()=>{let e=[];return{addProject:t=>e.push(t),getAllProjects:()=>e,getProject:t=>e[t],getProjectCount:()=>e.length,getProjectIndex:t=>e.indexOf(t)}})(),a=(()=>{document.querySelectorAll("button");let e=document.querySelector("aside"),t=document.querySelector(".sidebar-favourites"),o=document.querySelector(".sidebar-projects"),l=document.querySelector(".display-inner"),i=[],s=!1,c={type:"",projects:[]};const d=(e,t)=>{c.type=e,c.projects=t},u=()=>{l.innerHTML=""},p=e=>{let t=n.getProject(e);l.innerHTML+=`<h3>${t.getTitle()}<button class="add-btn" data-btn="new-task" data-projectid=${e}>＋ Add Task</button></h3>`;let o=document.createElement("ul"),r=t.getTasks();r.sort((function(e,t){return e.getComplete()===t.getComplete()?0:e.getComplete()?1:-1}));for(let t=0;t<r.length;t++){let l=document.createElement("li");l.dataset.projectindex=t,l.dataset.projectid=e,r[t].getComplete()&&l.classList.add("todo-complete"),l.innerHTML+=`<input class="todo-tick" type="checkbox" ${r[t].getComplete()?"checked":""}><span class="todo-pri-${r[t].getPriority()}">${r[t].getTitle()}</span>`,r[t].getComplete()||(""!==r[t].getDescription()&&(l.innerHTML+=`<p class="todo-desc">${r[t].getDescription()}</p>`),""!==r[t].getDueDate()&&null!==r[t].getDueDate()&&(l.innerHTML+=`<p class="todo-desc">Due on ${r[t].getDueDate()}</p>`)),o.appendChild(l)}l.appendChild(o),y()},g=e=>{u(),d("one",[n.getProject(e)]),p(e),j()},f=()=>{u(),d("all",n.getAllProjects());for(let e=0;e<n.getProjectCount();e++)p(e);j()},j=()=>{l.querySelectorAll("li").forEach(e=>{e.childNodes.forEach(t=>{"INPUT"===t.tagName&&"checkbox"===t.type&&(-1===i.indexOf(t)?(i.push(t),t.addEventListener("CheckboxStateChange",()=>{console.log("toggling completion task id "+e.dataset.projectindex),n.getProject(e.dataset.projectid).getTask(e.dataset.projectindex).setComplete(t.checked),"all"===c.type?f():"one"===c.type&&g(n.getProjectIndex(c.projects[0]))})):console.log("event exists for "+e.textContent))})})},m=(document.querySelectorAll('button[data-btn="new-project"]').forEach(e=>{e.addEventListener("click",()=>{s=!s,y(!1),s&&(document.querySelector(".add-project-field").focus(),m())})}),()=>{let e=document.querySelector(".add-project-form"),t=document.querySelector(".add-project-field");e.addEventListener("submit",e=>{if(e.preventDefault(),""!==t.value){let e=r(t.value);n.addProject(e),s=!1,a.displayOneProject(n.getProjectIndex(e)),y()}})}),y=(l=!0)=>{t.innerHTML="",o.innerHTML="",(()=>{let e=n.getAllProjects(),l=document.querySelectorAll('button[data-btn="new-project"]');s?(l.forEach(e=>e.innerHTML="<span class='btn-symbol'>✕</span> Cancel"),o.innerHTML+='<div class="add-project"><form class="add-project-form"><input type="text" class="add-project-field" placeholder="Name your project"><input type="submit" class="add-project-submit" value="＋"></form></div>'):l.forEach(e=>e.innerHTML="<span class='btn-symbol'>＋</span> New Project");let r=0;e.forEach(e=>{e.isFavourite()?t.innerHTML+=`<li class="project-link" data-id=${r}>${e.getTitle()}</li>`:o.innerHTML+=`<li class="project-link" data-id=${r}>${e.getTitle()}</li>`,r++}),t.innerHTML+='<li class="project-link" data-id="all-tasks">All Tasks</li>'})(),(()=>{if("all"===c.type){t.querySelector('li[data-id="all-tasks"]').classList.add("selected")}else if("one"===c.type){let t=n.getProjectIndex(c.projects[0]);e.querySelector(`li[data-id="${t}"]`).classList.add("selected")}})(),e.querySelectorAll("li").forEach(e=>{e.addEventListener("click",()=>{"all-tasks"===e.dataset.id?a.displayAllProjects():a.displayOneProject(+e.dataset.id)})})};return{displayOneProject:g,displayAllProjects:f}})();let i=r("Inbox",!0);n.addProject(i);let s=l("This is complete first","More info about this amazing thing","2020-09-19","high",null,null);s.setComplete("true"),i.addTask(s);let c=l("Do something amazing","More info about this amazing thing","2020-09-19","low",null,null);i.addTask(c);let d=l("This is complete","More info about this amazing thing","2020-09-19","high",null,null);d.setComplete("true"),i.addTask(d);let u=l("Do another great thing","More info about this amazing thing","2020-09-19","med",null,null);i.addTask(u);let p=l("Do another great thing","More info about this amazing thing","2020-09-19","med",null,null);i.addTask(p),i=r("Personal"),n.addProject(i),i=r("Work"),n.addProject(i),a.displayAllProjects()}]);